import{a as o,c as u,r as c,j as e}from"./index-CeZ1v-29.js";import{u as x,c as p}from"./admins.api-CO7NjTbF.js";import"./api-Bbb2V7Rn.js";function g(){const l=o(),i=u(),[a,t]=c.useState({username:"",email:"",password:"",role:"Admin"}),r=x({mutationFn:p,onSuccess:()=>{i.invalidateQueries({queryKey:["admins"]}),alert("Admin created successfully"),l("/admin/users")},onError:s=>{var d,n;console.error(s),alert(((n=(d=s==null?void 0:s.response)==null?void 0:d.data)==null?void 0:n.message)||"Failed to create admin")}}),m=s=>{s.preventDefault(),r.mutate(a)};return e.jsxs("section",{className:"max-w-2xl space-y-6",children:[e.jsxs("header",{children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Create New Admin"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add a new user with administrative privileges."})]}),e.jsx("div",{className:"rounded-lg border bg-white p-6",children:e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Username"}),e.jsx("input",{required:!0,className:"w-full rounded-md border px-3 py-2 text-sm",value:a.username,onChange:s=>t({...a,username:s.target.value}),placeholder:"e.g. jdoe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx("input",{required:!0,type:"email",className:"w-full rounded-md border px-3 py-2 text-sm",value:a.email,onChange:s=>t({...a,email:s.target.value}),placeholder:"e.g. jdoe@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),e.jsx("input",{required:!0,type:"password",className:"w-full rounded-md border px-3 py-2 text-sm",value:a.password,onChange:s=>t({...a,password:s.target.value}),placeholder:"••••••••"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),e.jsxs("select",{className:"w-full rounded-md border px-3 py-2 text-sm bg-white",value:a.role,onChange:s=>t({...a,role:s.target.value}),children:[e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"SuperAdmin",children:"SuperAdmin"}),e.jsx("option",{value:"Editor",children:"Editor"})]})]}),e.jsxs("div",{className:"pt-4 flex gap-3",children:[e.jsx("button",{type:"submit",disabled:r.isPending,className:"rounded-md bg-gray-900 text-white px-4 py-2 text-sm font-medium hover:bg-black disabled:opacity-70",children:r.isPending?"Creating...":"Create Admin"}),e.jsx("button",{type:"button",onClick:()=>l("/admin/users"),className:"rounded-md border px-4 py-2 text-sm font-medium hover:bg-gray-50",children:"Cancel"})]})]})})]})}export{g as default};
