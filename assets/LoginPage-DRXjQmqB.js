const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/auth.api-Dg6g5w02.js","assets/api-Bbb2V7Rn.js"])))=>i.map(i=>d[i]);
import{a as w,z as j,r,j as e,_ as N}from"./index-CeZ1v-29.js";function _(){const x=w(),{login:b,token:y}=j(),[a,p]=r.useState(""),[n,h]=r.useState(""),[l,o]=r.useState(!1),[d,i]=r.useState(null),[m,c]=r.useState(null);async function f(t){var u,g;t.preventDefault(),o(!0),i(null),c(null);try{const s=await N(()=>import("./auth.api-Dg6g5w02.js"),__vite__mapDeps([0,1])).then(v=>v.login({username:a,password:n}));b(s.token,{username:s.username,email:"admin@wellness.com",role:s.role}),c("Login successful! Redirecting..."),setTimeout(()=>{x("/admin",{replace:!0})},1e3)}catch(s){console.error(s),i(((g=(u=s.response)==null?void 0:u.data)==null?void 0:g.message)||"Login failed. Please check your credentials."),o(!1)}}return e.jsx("div",{className:"min-h-[70vh] grid place-items-center bg-gray-50",children:e.jsxs("form",{onSubmit:f,className:"w-full max-w-sm border rounded-xl p-6 bg-white shadow-sm",children:[e.jsx("h1",{className:"text-xl font-semibold mb-4 text-center",children:"Admin Login"}),d&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 text-sm rounded-md border border-red-200",children:d}),m&&e.jsx("div",{className:"mb-4 p-3 bg-emerald-50 text-emerald-700 text-sm rounded-md border border-emerald-200",children:m}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Username"}),e.jsx("input",{className:"w-full border rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",value:a,onChange:t=>p(t.target.value),placeholder:"e.g. admin",required:!0})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-700",children:"Password"}),e.jsx("input",{type:"password",className:"w-full border rounded-md px-3 py-2 text-sm focus:ring-2 focus:ring-emerald-500 outline-none",value:n,onChange:t=>h(t.target.value),placeholder:"••••••••",required:!0})]}),e.jsx("button",{disabled:l,className:"w-full bg-gray-900 text-white rounded-md py-2 text-sm font-medium hover:bg-black disabled:opacity-70 transition-colors",children:l?"Signing in...":"Sign In"})]})})}export{_ as default};
