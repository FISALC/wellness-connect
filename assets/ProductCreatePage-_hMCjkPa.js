import{a as x,r,j as t}from"./index-CeZ1v-29.js";import{P as p}from"./ProductFormPage-D1Nleql5.js";import{c as g}from"./products.api-CsF4ySjT.js";import"./api-Bbb2V7Rn.js";function y(){const s=x(),[l,a]=r.useState(!1),[d,o]=r.useState(null),[c,n]=r.useState(null);async function u(m){var i;a(!0),o(null),n(null);try{const e=await g(m);n(e.message??"Product created"),(i=e==null?void 0:e.data)!=null&&i.id?s(`/admin/products/${e.data.id}/edit`,{replace:!0}):s("/admin/products",{replace:!0})}catch(e){o(e.message||"Failed to create product")}finally{a(!1)}}return t.jsxs("section",{className:"space-y-6",children:[t.jsx("header",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-xl font-semibold",children:"Create Product"})}),d&&t.jsx("div",{className:"rounded-md border border-red-200 bg-red-50 text-red-700 px-3 py-2 text-sm",children:d}),c&&t.jsx("div",{className:"rounded-md border border-green-200 bg-green-50 text-green-700 px-3 py-2 text-sm",children:c}),t.jsx("div",{className:"rounded-lg border bg-white p-4",children:t.jsx(p,{submitting:l,onSubmit:u})})]})}export{y as default};
