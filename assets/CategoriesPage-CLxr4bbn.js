import{r,j as e}from"./index-CeZ1v-29.js";import{a as c}from"./api-Bbb2V7Rn.js";const o="/api/v1";async function p(){return(await c.get(`${o}/public/wellness/categories`)).data}async function f(a){return(await c.post(`${o}/admin/wellness/categories`,a)).data}async function y(a){await c.delete(`${o}/admin/wellness/categories/${a}`)}function b(){const[a,m]=r.useState([]),[g,x]=r.useState(!0),[n,i]=r.useState(!1),[t,l]=r.useState({name:"",slug:"",description:""});r.useEffect(()=>{d()},[]);function d(){x(!0),p().then(m).finally(()=>x(!1))}async function u(){!t.name||!t.slug||(await f(t),i(!1),l({name:"",slug:"",description:""}),d())}async function h(s){confirm("Are you sure? This will not delete products in this category.")&&(await y(s),d())}return r.useEffect(()=>{n&&l(s=>({...s,slug:s.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}))},[t.name,n]),g&&!a.length?e.jsx("div",{className:"p-6",children:"Loading categories..."}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage product categories."})]}),e.jsxs("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium flex items-center gap-2",children:[e.jsx("span",{children:"+"})," New Category"]})]}),n&&e.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6 mb-6 animate-in fade-in slide-in-from-top-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"Add Category"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:t.name,onChange:s=>l({...t,name:s.target.value}),placeholder:"e.g. Protein Powder"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Slug"}),e.jsx("input",{className:"w-full border rounded px-3 py-2 bg-gray-50",value:t.slug,readOnly:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Description"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:t.description,onChange:s=>l({...t,description:s.target.value}),placeholder:"Brief description for SEO"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:()=>i(!1),className:"text-gray-500 hover:text-gray-700",children:"Cancel"}),e.jsx("button",{onClick:u,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:"Save Category"})]})]}),e.jsx("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500",children:"Name"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500",children:"Slug"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500",children:"Description"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500",children:"Products"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y",children:[a.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-900",children:s.name}),e.jsx("td",{className:"px-6 py-4 text-gray-500 font-mono text-xs",children:s.slug}),e.jsx("td",{className:"px-6 py-4 text-gray-500",children:s.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[s.count," items"]})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsx("button",{onClick:()=>h(s.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Delete"})})]},s.id)),!a.length&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No categories found."})})]})]})})]})}export{b as default};
