import{r as l,j as e}from"./index-CeZ1v-29.js";import{g as b,c as N,u as y,d as v}from"./wellness-hub.api-xtAAKWKg.js";import"./api-Bbb2V7Rn.js";const w=["Nutrition","Workouts","Mental Health","Lifestyle"];function E(){const[i,x]=l.useState([]),[u,m]=l.useState(!0),[d,r]=l.useState(null),[c,n]=l.useState(!1),[s,a]=l.useState({title:"",excerpt:"",content:"",imageUrl:"",category:"Nutrition",author:"",readTime:"",tags:[]});l.useEffect(()=>{o()},[]);function o(){m(!0),b().then(x).finally(()=>m(!1))}function h(t){r(t),a(t),n(!1)}function g(){r(null),a({title:"",excerpt:"",content:"",imageUrl:"",category:"Nutrition",author:"",readTime:"",tags:[]}),n(!0)}async function p(){c?await N(s):d&&await y(d.id,s),n(!1),r(null),o()}async function j(t){confirm("Are you sure?")&&(await v(t),o())}return u&&!i.length?e.jsx("div",{className:"p-6",children:"Loading articles..."}):c||d?e.jsxs("div",{className:"p-6 max-w-4xl",children:[e.jsxs("header",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:c?"New Article":"Edit Article"}),e.jsx("button",{onClick:()=>{n(!1),r(null)},className:"text-gray-500 hover:text-gray-700",children:"Cancel"})]}),e.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Title"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:s.title,onChange:t=>a({...s,title:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Category"}),e.jsx("select",{className:"w-full border rounded px-3 py-2",value:s.category,onChange:t=>a({...s,category:t.target.value}),children:w.map(t=>e.jsx("option",{value:t,children:t},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Read Time"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",placeholder:"e.g. 5 min read",value:s.readTime,onChange:t=>a({...s,readTime:t.target.value})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:s.imageUrl,onChange:t=>a({...s,imageUrl:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Excerpt"}),e.jsx("textarea",{className:"w-full border rounded px-3 py-2 h-20",value:s.excerpt,onChange:t=>a({...s,excerpt:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Content (HTML/Markdown)"}),e.jsx("textarea",{className:"w-full border rounded px-3 py-2 h-40 font-mono text-sm",value:s.content,onChange:t=>a({...s,content:t.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Author"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:s.author,onChange:t=>a({...s,author:t.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tags (comma separated)"}),e.jsx("input",{className:"w-full border rounded px-3 py-2",value:s.tags.join(", "),onChange:t=>a({...s,tags:t.target.value.split(",").map(f=>f.trim())})})]})]}),e.jsx("div",{className:"pt-4 flex justify-end gap-3",children:e.jsx("button",{onClick:p,className:"px-6 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium",children:"Save Article"})})]})]}):e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Wellness Hub Manager"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage blog posts and resources."})]}),e.jsxs("button",{onClick:g,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 font-medium flex items-center gap-2",children:[e.jsx("span",{children:"+"})," New Article"]})]}),e.jsx("div",{className:"bg-white rounded-xl border shadow-sm overflow-hidden",children:e.jsxs("table",{className:"w-full text-left text-sm",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500",children:"Article"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500",children:"Category"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500",children:"Author"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500",children:"Date"}),e.jsx("th",{className:"px-6 py-3 font-medium text-gray-500 text-right",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y",children:[i.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.imageUrl,alt:"",className:"w-10 h-10 rounded object-cover bg-gray-100"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.title}),e.jsx("div",{className:"text-xs text-gray-500 line-clamp-1",children:t.excerpt})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800",children:t.category})}),e.jsx("td",{className:"px-6 py-4 text-gray-500",children:t.author}),e.jsx("td",{className:"px-6 py-4 text-gray-500",children:new Date(t.createdAt).toLocaleDateString()}),e.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[e.jsx("button",{onClick:()=>h(t),className:"text-indigo-600 hover:text-indigo-900 font-medium",children:"Edit"}),e.jsx("button",{onClick:()=>j(t.id),className:"text-red-600 hover:text-red-900 font-medium",children:"Delete"})]})]},t.id)),!i.length&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:"No articles found. Create one to get started."})})]})]})})]})}export{E as default};
