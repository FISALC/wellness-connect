import{r}from"./index-CeZ1v-29.js";import{a as m}from"./products.api-CsF4ySjT.js";function p(e){return{id:e.id||"0",name:e.name,category:Number(e.category),isNew:!!e.isNew,imageUrl:e.imageUrl||void 0,createdAt:e.createdAt||void 0,price:e.price,rating:e.rating,discountPct:e.discountPct,tags:e.tag?[e.tag]:[],description:e.description}}function P(){const[e,c]=r.useState(null),[o,n]=r.useState(!0),[a,i]=r.useState(null),[u,l]=r.useState(0);r.useEffect(()=>{let t=!0;return n(!0),i(null),m().then(s=>{t&&c(s.map(p))}).catch(s=>{t&&i(s)}).finally(()=>{t&&n(!1)}),()=>{t=!1}},[u]);const f=()=>l(t=>t+1),g=r.useMemo(()=>(e==null?void 0:e.length)??0,[e]);return{data:e??[],count:g,isLoading:o,isError:!!a,error:a,refetch:f}}export{P as u};
