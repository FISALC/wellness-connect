import{x as y,r as u,j as e}from"./index-CeZ1v-29.js";import{a as b}from"./api-Bbb2V7Rn.js";function N(){const{items:n,remove:d,clear:p}=y(),[s,l]=u.useState({name:"",email:"",phone:"",message:""}),[r,o]=u.useState(!1),i=n.length>0&&s.name&&s.email&&!r,g=async a=>{var m,c;if(a.preventDefault(),!i)return;o(!0);const x={customerName:s.name,email:s.email,phone:s.phone,message:s.message,items:n.map(t=>({productId:t.id,quantity:t.qty}))};try{await b.post("/api/v1/public/wellness/leads/cart",x),alert("Thanks! We received your request. We’ll contact you soon."),p(),l({name:"",email:"",phone:"",message:""})}catch(t){console.error(t);const h=((c=(m=t==null?void 0:t.response)==null?void 0:m.data)==null?void 0:c.error)??"Something went wrong. Please try again.";alert(h)}finally{o(!1)}};return e.jsxs("div",{className:"mx-auto max-w-5xl px-4 py-6 grid lg:grid-cols-12 gap-6",children:[e.jsxs("section",{className:"lg:col-span-7",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Your Cart"}),n.length===0?e.jsx("p",{className:"mt-3 text-gray-600",children:"Your cart is empty."}):e.jsx("ul",{className:"mt-4 space-y-3",children:n.map(a=>e.jsxs("li",{className:"flex items-center gap-3 rounded-xl border bg-white p-3",children:[e.jsx("img",{src:a.image,alt:a.name,className:"h-16 w-16 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500",children:a.type.toUpperCase()})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Qty: ",a.qty]}),e.jsx("button",{className:"text-xs rounded-lg bg-gray-100 text-gray-800 px-3 py-1 hover:bg-gray-200",onClick:()=>d(a.id),type:"button",children:"Remove"})]},a.id))})]}),e.jsxs("section",{className:"lg:col-span-5",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Send your contact details"}),e.jsx("p",{className:"text-sm text-gray-600",children:"We’ll call or email you back to finalize options and pricing."}),e.jsxs("form",{onSubmit:g,className:"mt-4 space-y-3 rounded-xl border bg-white p-4",children:[e.jsx("input",{className:"input w-full",placeholder:"Full name*",value:s.name,onChange:a=>l({...s,name:a.target.value}),required:!0}),e.jsx("input",{className:"input w-full",placeholder:"Email*",type:"email",value:s.email,onChange:a=>l({...s,email:a.target.value}),required:!0}),e.jsx("input",{className:"input w-full",placeholder:"Phone",value:s.phone,onChange:a=>l({...s,phone:a.target.value})}),e.jsx("textarea",{className:"input w-full min-h-24",placeholder:"Message (e.g., preferred brand, flavors, goals)",value:s.message,onChange:a=>l({...s,message:a.target.value})}),e.jsx("button",{className:"btn-primary w-full disabled:opacity-60",disabled:!i,type:"submit",children:r?"Sending...":"Send request"}),e.jsx("p",{className:"text-[11px] text-gray-500",children:"By submitting, you agree to be contacted about your cart items. No payment is taken online."})]})]})]})}export{N as default};
