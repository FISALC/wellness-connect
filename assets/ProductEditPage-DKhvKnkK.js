import{b as x,a as g,r as s,j as t}from"./index-CeZ1v-29.js";import{P as h}from"./ProductFormPage-D1Nleql5.js";import{g as j,u as P}from"./products.api-CsF4ySjT.js";import"./api-Bbb2V7Rn.js";function S(){const{id:a}=x(),u=g(),[c,i]=s.useState(!0),[d,n]=s.useState(!1),[o,r]=s.useState(null),[l,m]=s.useState({});s.useEffect(()=>{a&&(i(!0),j(a).then(e=>{e.data?m(e.data):r("Product not found")}).catch(e=>r(e.message)).finally(()=>i(!1)))},[a]);async function f(e){if(a){n(!0),r(null);try{await P(a,e),u("/admin/products",{replace:!0})}catch(p){r(p.message||"Failed to update product")}finally{n(!1)}}}return c?t.jsx("div",{className:"p-6",children:"Loading product..."}):o?t.jsx("div",{className:"p-6 text-red-600",children:o}):t.jsxs("section",{className:"space-y-6",children:[t.jsx("header",{className:"flex items-center justify-between",children:t.jsx("h1",{className:"text-xl font-semibold",children:"Edit Product"})}),t.jsx("div",{className:"rounded-lg border bg-white p-4",children:t.jsx(h,{initial:l,submitting:d,onSubmit:f})})]})}export{S as default};
